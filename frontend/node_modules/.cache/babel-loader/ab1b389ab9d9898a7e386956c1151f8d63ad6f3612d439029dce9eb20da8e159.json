{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import CircularProgress from'@mui/material/CircularProgress';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProgressPage=()=>{const{jobId}=useParams();const[status,setStatus]=useState('In Progress');const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{if(!jobId)return;const interval=setInterval(async()=>{try{const response=await fetch(\"http://localhost:8000/api/status/\".concat(jobId));const data=await response.json();if(data.status==='completed'){setStatus('Completed');clearInterval(interval);navigate(\"/results/\".concat(jobId));}else if(data.status==='failed'){setStatus('Failed');setError('An error occurred while extracting the blog.');clearInterval(interval);}}catch(err){setError('Error checking job status.');clearInterval(interval);}},2000);return()=>clearInterval(interval);},[jobId,navigate]);return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Progress Page\"}),status!=='Completed'&&!error&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",status]})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]});};export default ProgressPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","CircularProgress","jsx","_jsx","jsxs","_jsxs","ProgressPage","jobId","status","setStatus","error","setError","navigate","interval","setInterval","response","fetch","concat","data","json","clearInterval","err","style","textAlign","marginTop","children","color"],"sources":["C:/Users/Nikhary/autolinker/frontend/src/components/ProgressPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nconst ProgressPage: React.FC = () => {\n    const { jobId } = useParams<{ jobId: string }>();\n    const [status, setStatus] = useState<string>('In Progress');\n    const [error, setError] = useState<string | null>(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (!jobId) return;\n        const interval = setInterval(async () => {\n            try {\n                const response = await fetch(`http://localhost:8000/api/status/${jobId}`);\n                const data = await response.json();\n                if (data.status === 'completed') {\n                    setStatus('Completed');\n                    clearInterval(interval);\n                    navigate(`/results/${jobId}`);\n                } else if (data.status === 'failed') {\n                    setStatus('Failed');\n                    setError('An error occurred while extracting the blog.');\n                    clearInterval(interval);\n                }\n            } catch (err) {\n                setError('Error checking job status.');\n                clearInterval(interval);\n            }\n        }, 2000);\n\n        return () => clearInterval(interval);\n    }, [jobId, navigate]);\n\n    return (\n        <div style={{ textAlign: 'center', marginTop: '2rem' }}>\n            <h1>Progress Page</h1>\n            {status !== 'Completed' && !error && (\n                <div>\n                    <CircularProgress />\n                    <p>Status: {status}</p>\n                </div>\n            )}\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n        </div>\n    );\n};\n\nexport default ProgressPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,gBAAgB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9D,KAAM,CAAAC,YAAsB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAEC,KAAM,CAAC,CAAGR,SAAS,CAAoB,CAAC,CAChD,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAS,aAAa,CAAC,CAC3D,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACZ,GAAI,CAACU,KAAK,CAAE,OACZ,KAAM,CAAAM,QAAQ,CAAGC,WAAW,CAAC,SAAY,CACrC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,qCAAAC,MAAA,CAAqCV,KAAK,CAAE,CAAC,CACzE,KAAM,CAAAW,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACV,MAAM,GAAK,WAAW,CAAE,CAC7BC,SAAS,CAAC,WAAW,CAAC,CACtBW,aAAa,CAACP,QAAQ,CAAC,CACvBD,QAAQ,aAAAK,MAAA,CAAaV,KAAK,CAAE,CAAC,CACjC,CAAC,IAAM,IAAIW,IAAI,CAACV,MAAM,GAAK,QAAQ,CAAE,CACjCC,SAAS,CAAC,QAAQ,CAAC,CACnBE,QAAQ,CAAC,8CAA8C,CAAC,CACxDS,aAAa,CAACP,QAAQ,CAAC,CAC3B,CACJ,CAAE,MAAOQ,GAAG,CAAE,CACVV,QAAQ,CAAC,4BAA4B,CAAC,CACtCS,aAAa,CAACP,QAAQ,CAAC,CAC3B,CACJ,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMO,aAAa,CAACP,QAAQ,CAAC,CACxC,CAAC,CAAE,CAACN,KAAK,CAAEK,QAAQ,CAAC,CAAC,CAErB,mBACIP,KAAA,QAAKiB,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACnDtB,IAAA,OAAAsB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBjB,MAAM,GAAK,WAAW,EAAI,CAACE,KAAK,eAC7BL,KAAA,QAAAoB,QAAA,eACItB,IAAA,CAACF,gBAAgB,GAAE,CAAC,cACpBI,KAAA,MAAAoB,QAAA,EAAG,UAAQ,CAACjB,MAAM,EAAI,CAAC,EACtB,CACR,CACAE,KAAK,eAAIP,IAAA,MAAGmB,KAAK,CAAE,CAAEI,KAAK,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAEf,KAAK,CAAI,CAAC,EAChD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}